{
    "uuid": "atlas-mc-paper",
    "name": "Paper",
    "description": "High performance Spigot fork.",
    "docker_images": [
        "ghcr.io/ptero-eggs/yolks:java_22",
        "ghcr.io/ptero-eggs/yolks:java_21",
        "ghcr.io/ptero-eggs/yolks:java_17",
        "ghcr.io/ptero-eggs/yolks:java_16",
        "ghcr.io/ptero-eggs/yolks:java_11",
        "ghcr.io/ptero-eggs/yolks:java_8"
    ],
    "startup_command": "java -Xms128M -Xmx{{SERVER_MEMORY}}M -Dterminal.jline=false -Dterminal.ansi=true -jar {{SERVER_JARFILE}}",
    "stop_command": "stop",
    "script_install": "#!/bin/ash\n# Paper Installation Script\nPROJECT=paper\ncd /mnt/server\n\nif [ -n \"${DL_PATH}\" ]; then\n    echo \"Using supplied download url: ${DL_PATH}\"\n    DOWNLOAD_URL=$(echo ${DL_PATH})\nelse\n    # Logic to fetch latest build from Paper API\n    VER_EXISTS=$(curl -s https://fill.papermc.io/v3/projects/${PROJECT} | jq -r --arg VERSION $MINECRAFT_VERSION '.versions | any(.[]; index($VERSION))' | grep -m1 true)\n    LATEST_VERSION=$(curl -s https://fill.papermc.io/v3/projects/${PROJECT} | jq -r '.versions | to_entries | .[0].value[0]')\n\n    if [ \"${VER_EXISTS}\" == \"true\" ]; then\n        VERSION=${MINECRAFT_VERSION}\n    else\n        echo \"Defaulting to latest version\"\n        VERSION=${LATEST_VERSION}\n    fi\n\n    LATEST_BUILD=$(curl -s https://fill.papermc.io/v3/projects/${PROJECT}/versions/${VERSION} | jq -r '.builds | .[-1]')\n    if [ \"${BUILD_NUMBER}\" != \"latest\" ]; then BUILD=${BUILD_NUMBER}; else BUILD=${LATEST_BUILD}; fi\n    \n    JAR_NAME=\"${PROJECT}-${VERSION}-${BUILD}.jar\"\n    DOWNLOAD_URL=\"https://api.papermc.io/v2/projects/${PROJECT}/versions/${VERSION}/builds/${BUILD}/downloads/${JAR_NAME}\"\nfi\n\necho \"Downloading ${DOWNLOAD_URL}...\"\ncurl -o ${SERVER_JARFILE} ${DOWNLOAD_URL}\necho \"eula=true\" > eula.txt\n",
    "script_container": "ghcr.io/pterodactyl/installers:alpine",
    "script_entry": "ash",
    "variables": [
        {
            "name": "Minecraft Version",
            "env_variable": "MINECRAFT_VERSION",
            "default_value": "latest",
            "description": "Version of Minecraft to install."
        },
        {
            "name": "Build Number",
            "env_variable": "BUILD_NUMBER",
            "default_value": "latest",
            "description": "Build number or 'latest'."
        },
        {
            "name": "Server Jar File",
            "env_variable": "SERVER_JARFILE",
            "default_value": "server.jar"
        },
        {
            "name": "Download URL",
            "env_variable": "DL_PATH",
            "default_value": ""
        }
    ]
}